# 20 Анализ сетевой структуры блокчейна

## Предисловие

Все публичные блокчейны по сути являются большими сетями. Анализ данных Onchain, скорее всего, включает в себя сетевой анализ. Существующие визуализации на популярных платформах данных, таких как Dune, испытывают трудности с описанием взаимосвязей между узлами в блокчейнах.

Давайте использовать спорный адрес "хакера" FTX (0x59ABf3837Fa962d6853b4Cc0a19513AA031fd32b) в качестве примера для проведения сетевого анализа (мы не будем обсуждать, является ли это хакером или правительством Панамы). Мы рассмотрим, куда пошел ETH с этого адреса (мы изучим 2-шаговые связи, исходящие от этого адреса).

Инструменты, использованные в процессе:

- Dune: получение необработанных данных между адресами и выполнение первоначальной обработки
- Python
  - Networkx: пакет python для создания, манипулирования и изучения сложных сетей. Позволяет хранить сети в стандартных и нестандартных форматах данных, генерировать различные случайные и классические сети, анализировать структуру сети, строить модели сети, разрабатывать новые сетевые алгоритмы, рисовать сети и т. д.
    - Более подробно: [https://networkx.org/](https://networkx.org/)
  - Plotly: отличный пакет для визуализации, может генерировать интерактивные HTML-файлы. Имеет сопутствующий фронтенд-фреймворк под названием DASH, который очень удобен для аналитиков данных без продвинутых инженерных навыков.
    - Более подробно: [https://plotly.com/](https://plotly.com/)
  - Pandas: наиболее часто используемый пакет Python для работы с данными, предоставляет множество функций и методов для обеспечения быстрой и удобной обработки данных.
    - Более подробно: [https://pandas.pydata.org/](https://pandas.pydata.org/)
- Etherscan API: расчет ETH Balance на Dune слишком трудоемкий, требующий извлечения всех данных каждый раз. Мы можем просто получить Balance из Etherscan API.

## Обзор

Процесс можно в целом разделить на следующие этапы:

- Получение необработанных данных из Dune
- Обработка взаимосвязей между узлами и обработка различных атрибутивных данных, необходимых для построения сетевого графа (pos, label, color, size и т.д.) с помощью Networkx
- Визуализация сетевого графа с помощью Plotly